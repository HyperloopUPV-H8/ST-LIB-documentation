\doxysection{PT100.\+hpp}
\hypertarget{_p_t100_8hpp_source}{}\label{_p_t100_8hpp_source}\index{D:/hyperloop/ST-\/LIB/Inc/ST-\/LIB\_LOW/Sensors/Common/PT100.hpp@{D:/hyperloop/ST-\/LIB/Inc/ST-\/LIB\_LOW/Sensors/Common/PT100.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}ADC/ADC.hpp"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}Sensors/Sensor/Sensor.hpp"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}ErrorHandler/ErrorHandler.hpp"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}Control/ControlBlock.hpp"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}Control/Blocks/MovingAverage.hpp"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_p_t100}{PT100}}\{}
\DoxyCodeLine{00011\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ k\ =\ 841.836735;}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ offset\ =\ -\/492.204082;}
\DoxyCodeLine{00014\ \ \ \ \ \mbox{\hyperlink{class_packet_value}{MovingAverage<N>}}*\ filter\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{class_p_t100}{PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}*\ value,\ \mbox{\hyperlink{class_packet_value}{MovingAverage<N>}}\&\ filter);}
\DoxyCodeLine{00017\ \ \ \ \ \mbox{\hyperlink{class_p_t100}{PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}*\ value);}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{class_p_t100}{PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}\&\ value,\ \mbox{\hyperlink{class_packet_value}{MovingAverage<N>}}\&\ filter);}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{class_p_t100}{PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}\&\ value);}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{void}\ read();}
\DoxyCodeLine{00023\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{class_packet_value}{uint8\_t}}\ id;}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{float}*\ value;}
\DoxyCodeLine{00026\ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00029\ \mbox{\hyperlink{class_p_t100}{PT100<N>::PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}*\ value,\ \mbox{\hyperlink{class_packet_value}{MovingAverage<N>}}\&\ filter)\ :\ value(value),\ filter(\&filter)\{}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c}{ADC::inscribe}}(pin);}
\DoxyCodeLine{00031\ \ \ \ \ Sensor::adc\_id\_list.push\_back(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00032\ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00035\ \mbox{\hyperlink{class_p_t100}{PT100<N>::PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}\&\ value,\ \mbox{\hyperlink{class_packet_value}{MovingAverage<N>}}\&\ filter)\ :\ value(\&value),\ filter(\&filter)\{}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c}{ADC::inscribe}}(pin);}
\DoxyCodeLine{00037\ \ \ \ \ Sensor::adc\_id\_list.push\_back(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00041\ \mbox{\hyperlink{class_p_t100}{PT100<N>::PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}*\ value)\ :\ value(value)\{}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c}{ADC::inscribe}}(pin);}
\DoxyCodeLine{00043\ \ \ \ \ Sensor::adc\_id\_list.push\_back(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00047\ \mbox{\hyperlink{class_p_t100}{PT100<N>::PT100}}(\mbox{\hyperlink{class_pin}{Pin}}\&\ pin,\ \textcolor{keywordtype}{float}\&\ value)\ :\ value(\&value)\{}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c}{ADC::inscribe}}(pin);}
\DoxyCodeLine{00049\ \ \ \ \ Sensor::adc\_id\_list.push\_back(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00053\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_p_t100}{PT100<N>::read}}()\{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_packet_value}{val}}\ =\ \mbox{\hyperlink{class_a_d_c_a3ec92984d918de516efc0ebbdc98d95f}{ADC::get\_value}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{if}(filter\ !=\ \textcolor{keyword}{nullptr})\{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ filter-\/>input(k/\mbox{\hyperlink{class_packet_value}{val}}\ +\ offset);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ filter-\/>execute();}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ *value\ =\ filter-\/>output\_value;}
\DoxyCodeLine{00059\ \ \ \ \ \}\textcolor{keywordflow}{else}\ *value\ =\ k/\mbox{\hyperlink{class_packet_value}{val}}\ +\ offset;}
\DoxyCodeLine{00060\ \}}

\end{DoxyCode}
