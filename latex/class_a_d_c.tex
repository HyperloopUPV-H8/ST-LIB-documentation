\doxysection{ADC Class Reference}
\hypertarget{class_a_d_c}{}\label{class_a_d_c}\index{ADC@{ADC}}


A utility class that controls \doxylink{class_a_d_c}{ADC} inputs.  




{\ttfamily \#include $<$ADC.\+hpp$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_a_d_c_1_1_init_data}{Init\+Data}}
\item 
class \mbox{\hyperlink{class_a_d_c_1_1_instance}{Instance}}
\item 
class \mbox{\hyperlink{class_a_d_c_1_1_peripheral}{Peripheral}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}} \mbox{\hyperlink{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c}{inscribe}} (\mbox{\hyperlink{class_pin}{Pin}} pin)
\begin{DoxyCompactList}\small\item\em A method to add a pin as an \doxylink{class_a_d_c}{ADC} input on the ST-\/\+LIB. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{void}} \mbox{\hyperlink{class_a_d_c_aa0c418efdbe03a584bebdead2d0b4047}{start}} ()
\begin{DoxyCompactList}\small\item\em Method used in ST-\/\+LIBstart() to configure pins inscribed as ADCs. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{void}} \mbox{\hyperlink{class_a_d_c_a1277f51e3c6339efa4201a25fd8c5e6e}{turn\+\_\+on}} (\mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}} id)
\begin{DoxyCompactList}\small\item\em Activates the \doxylink{class_a_d_c}{ADC} represented by the id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{float}} \mbox{\hyperlink{class_a_d_c_a3ec92984d918de516efc0ebbdc98d95f}{get\+\_\+value}} (\mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}} id)
\begin{DoxyCompactList}\small\item\em Returns the value of the last \doxylink{class_d_m_a}{DMA} read made by the \doxylink{class_a_d_c}{ADC}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{uint16\+\_\+t}} \mbox{\hyperlink{class_a_d_c_ae9d0080f292782fff0ab73c0a67ba670}{get\+\_\+int\+\_\+value}} (\mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}} id)
\begin{DoxyCompactList}\small\item\em Returns the value of the last \doxylink{class_d_m_a}{DMA} read made by the \doxylink{class_a_d_c}{ADC}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_a_d_c_a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90}\label{class_a_d_c_a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90} 
\mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_a_d_c_1_1_peripheral}{Peripheral}} {\bfseries peripherals} \mbox{[}3\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A utility class that controls \doxylink{class_a_d_c}{ADC} inputs. 

This class handles the configuration, read, and correct casting of the \doxylink{class_a_d_c}{ADC} values in the \doxylink{class_a_d_c}{ADC} inputs. For the class to work, the pins used as parameters in each inscribe has to be declared on Runes and on Pins as ADCs (change adc\+\_\+instances and AF of pins, respectively). Moreover, if the \doxylink{class_a_d_c}{ADC} used is not on the code generated by the .ioc you may need to change HAL\+\_\+\+ADC\+\_\+\+Msp\+Init (all on stm32h7xx\+\_\+hal\+\_\+msp.\+c)to configure the \doxylink{class_a_d_c}{ADC} pins and channels and their DMAs. Template-\/project has all the adcs declared on runes and the .ioc correctly configured, so unless more are needed these configurations can be assumed. 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_a_d_c_ae9d0080f292782fff0ab73c0a67ba670}\label{class_a_d_c_ae9d0080f292782fff0ab73c0a67ba670} 
\index{ADC@{ADC}!get\_int\_value@{get\_int\_value}}
\index{get\_int\_value@{get\_int\_value}!ADC@{ADC}}
\doxysubsubsection{\texorpdfstring{get\_int\_value()}{get\_int\_value()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{uint16\+\_\+t}} ADC\+::get\+\_\+int\+\_\+value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}}}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns the value of the last \doxylink{class_d_m_a}{DMA} read made by the \doxylink{class_a_d_c}{ADC}. 


\begin{DoxyParams}{Parameters}
{\em id} & the id of the \doxylink{class_a_d_c}{ADC} to be read.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the value of the \doxylink{class_a_d_c}{ADC}, in uint16\+\_\+t format. 0 is minimum possible value and max\+\_\+uint16\+\_\+t is the maximum. 
\end{DoxyReturn}
\Hypertarget{class_a_d_c_a3ec92984d918de516efc0ebbdc98d95f}\label{class_a_d_c_a3ec92984d918de516efc0ebbdc98d95f} 
\index{ADC@{ADC}!get\_value@{get\_value}}
\index{get\_value@{get\_value}!ADC@{ADC}}
\doxysubsubsection{\texorpdfstring{get\_value()}{get\_value()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{float}} ADC\+::get\+\_\+value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}}}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns the value of the last \doxylink{class_d_m_a}{DMA} read made by the \doxylink{class_a_d_c}{ADC}. 


\begin{DoxyParams}{Parameters}
{\em id} & the id of the \doxylink{class_a_d_c}{ADC} to be read.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the value of the \doxylink{class_a_d_c}{ADC} in volts. The ADC\+\_\+\+MAX\+\_\+\+VOLTAGE needs to be correctly configured in order for this function to work. 
\end{DoxyReturn}
\Hypertarget{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c}\label{class_a_d_c_aae06b1594b4fb09236ff4551e053e74c} 
\index{ADC@{ADC}!inscribe@{inscribe}}
\index{inscribe@{inscribe}!ADC@{ADC}}
\doxysubsubsection{\texorpdfstring{inscribe()}{inscribe()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}} ADC\+::inscribe (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_pin}{Pin}}}]{pin }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



A method to add a pin as an \doxylink{class_a_d_c}{ADC} input on the ST-\/\+LIB. 

This method has to be invoked before the ST-\/\+LIB\doxylink{class_a_d_c_aa0c418efdbe03a584bebdead2d0b4047}{start()}, as it marks the pin to be configured as an \doxylink{class_a_d_c}{ADC}, and that configuration is made in the ST-\/\+LIB\doxylink{class_a_d_c_aa0c418efdbe03a584bebdead2d0b4047}{start()}. As said on the class description, only correctly configured \doxylink{class_a_d_c}{ADC} pins will work correctly when declared as an \doxylink{class_a_d_c}{ADC}. It is forbidden to declare a pin as an \doxylink{class_a_d_c}{ADC} and as anything else on services at the same time, and it will result in undefined behavior.


\begin{DoxyParams}{Parameters}
{\em pin} & the \doxylink{class_pin}{Pin} to be added as an \doxylink{class_a_d_c}{ADC}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the id that represents the \doxylink{class_a_d_c}{ADC} inside this utility class, used in all its functions. 
\end{DoxyReturn}
\Hypertarget{class_a_d_c_aa0c418efdbe03a584bebdead2d0b4047}\label{class_a_d_c_aa0c418efdbe03a584bebdead2d0b4047} 
\index{ADC@{ADC}!start@{start}}
\index{start@{start}!ADC@{ADC}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{void}} ADC\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Method used in ST-\/\+LIBstart() to configure pins inscribed as ADCs. 

The start methods of the HALAL are made to be invoked in an specific order. As such, its recommended to not use them isolated, and instead use the ST-\/\+LIB\doxylink{class_a_d_c_aa0c418efdbe03a584bebdead2d0b4047}{start()}. The If for any reason not starting a service from HALAL was desired, removing the definition of its HAL parent module would deactivate it. For example, if \doxylink{class_a_d_c}{ADC} was needed out of the code, removing define HAL\+\_\+\+ADC\+\_\+\+MODULE\+\_\+\+ENABLED on \doxylink{stm32h7xx__hal__conf_8h_source}{stm32h7xx\+\_\+hal\+\_\+conf.\+h} would result in that behavior. \Hypertarget{class_a_d_c_a1277f51e3c6339efa4201a25fd8c5e6e}\label{class_a_d_c_a1277f51e3c6339efa4201a25fd8c5e6e} 
\index{ADC@{ADC}!turn\_on@{turn\_on}}
\index{turn\_on@{turn\_on}!ADC@{ADC}}
\doxysubsubsection{\texorpdfstring{turn\_on()}{turn\_on()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_packet_value}{static}} \mbox{\hyperlink{class_packet_value}{void}} ADC\+::turn\+\_\+on (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_packet_value}{uint8\+\_\+t}}}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Activates the \doxylink{class_a_d_c}{ADC} represented by the id. 

After the \doxylink{class_a_d_c}{ADC} is configured in the ST-\/\+LIBstart\+::() it needs to be activated with turn\+\_\+on to start reading. This is made this way so the user can control exactly when the measures start to be taken. The \doxylink{class_a_d_c_a3ec92984d918de516efc0ebbdc98d95f}{get\+\_\+value()} method will only work on a \doxylink{class_pin}{Pin} that has both been inscribed, started, and turned on.


\begin{DoxyParams}{Parameters}
{\em id} & the id of \doxylink{class_a_d_c}{ADC} to be activated. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
D\+:/hyperloop/\+ST-\/\+LIB/\+Inc/\+HALAL/\+Services/\+ADC/ADC.\+hpp\end{DoxyCompactItemize}
