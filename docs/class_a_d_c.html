<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: ADC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_a_d_c-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ADC Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A utility class that controls <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> inputs.  
 <a href="class_a_d_c.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_a_d_c_8hpp_source.html">ADC.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c_1_1_init_data.html">InitData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c_1_1_instance.html">Instance</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c_1_1_peripheral.html">Peripheral</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aae06b1594b4fb09236ff4551e053e74c" id="r_aae06b1594b4fb09236ff4551e053e74c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c.html#aae06b1594b4fb09236ff4551e053e74c">inscribe</a> (<a class="el" href="class_pin.html">Pin</a> pin)</td></tr>
<tr class="memdesc:aae06b1594b4fb09236ff4551e053e74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A method to add a pin as an <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> input on the ST-LIB.  <br /></td></tr>
<tr class="separator:aae06b1594b4fb09236ff4551e053e74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c418efdbe03a584bebdead2d0b4047" id="r_aa0c418efdbe03a584bebdead2d0b4047"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c.html#aa0c418efdbe03a584bebdead2d0b4047">start</a> ()</td></tr>
<tr class="memdesc:aa0c418efdbe03a584bebdead2d0b4047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method used in ST-LIBstart() to configure pins inscribed as ADCs.  <br /></td></tr>
<tr class="separator:aa0c418efdbe03a584bebdead2d0b4047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1277f51e3c6339efa4201a25fd8c5e6e" id="r_a1277f51e3c6339efa4201a25fd8c5e6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c.html#a1277f51e3c6339efa4201a25fd8c5e6e">turn_on</a> (<a class="el" href="class_packet_value.html">uint8_t</a> id)</td></tr>
<tr class="memdesc:a1277f51e3c6339efa4201a25fd8c5e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> represented by the id.  <br /></td></tr>
<tr class="separator:a1277f51e3c6339efa4201a25fd8c5e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec92984d918de516efc0ebbdc98d95f" id="r_a3ec92984d918de516efc0ebbdc98d95f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">float</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c.html#a3ec92984d918de516efc0ebbdc98d95f">get_value</a> (<a class="el" href="class_packet_value.html">uint8_t</a> id)</td></tr>
<tr class="memdesc:a3ec92984d918de516efc0ebbdc98d95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the last <a class="el" href="class_d_m_a.html">DMA</a> read made by the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>.  <br /></td></tr>
<tr class="separator:a3ec92984d918de516efc0ebbdc98d95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d0080f292782fff0ab73c0a67ba670" id="r_ae9d0080f292782fff0ab73c0a67ba670"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c.html#ae9d0080f292782fff0ab73c0a67ba670">get_int_value</a> (<a class="el" href="class_packet_value.html">uint8_t</a> id)</td></tr>
<tr class="memdesc:ae9d0080f292782fff0ab73c0a67ba670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the last <a class="el" href="class_d_m_a.html">DMA</a> read made by the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>.  <br /></td></tr>
<tr class="separator:ae9d0080f292782fff0ab73c0a67ba670"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90" id="r_a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90"><td class="memItemLeft" align="right" valign="top"><a id="a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90" name="a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90"></a>
<a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_a_d_c_1_1_peripheral.html">Peripheral</a>&#160;</td><td class="memItemRight" valign="bottom"><b>peripherals</b> [3]</td></tr>
<tr class="separator:a2bdb8bcd3e2b6d0d918cd7cb6bdc1f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A utility class that controls <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> inputs. </p>
<p>This class handles the configuration, read, and correct casting of the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> values in the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> inputs using <a class="el" href="class_d_m_a.html">DMA</a> to make cyclic reads, and the code pulls from the space given to the <a class="el" href="class_d_m_a.html">DMA</a> memory. For the class to work, the pins used as parameters in each inscribe has to be declared on Runes and on Pins as ADCs (change adc_instances and AF of pins, respectively). Moreover, if the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> used is not on the code generated by the .ioc you may need to change HAL_ADC_MspInit (on stm32h7xx_hal_msp.c) to configure the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> pins and channels and their DMAs. Template-project has all the adcs declared on runes and the .ioc correctly configured, so unless more are needed these configurations can be assumed. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae9d0080f292782fff0ab73c0a67ba670" name="ae9d0080f292782fff0ab73c0a67ba670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d0080f292782fff0ab73c0a67ba670">&#9670;&#160;</a></span>get_int_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">uint16_t</a> ADC::get_int_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_packet_value.html">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of the last <a class="el" href="class_d_m_a.html">DMA</a> read made by the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>. </p>
<p>The get_int_value function doesn t issue a read, but rather pulls the memory where the last read made is saved and returns that value. The capture of the value is made automatically by the <a class="el" href="class_d_m_a.html">DMA</a> configured for the respective <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> channel, and the frequency of the reads is dependant on the configuration of the <a class="el" href="class_d_m_a.html">DMA</a> itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the id of the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> to be read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>, in uint16_t format. 0 is minimum possible value and max_uint16_t is the maximum. </dd></dl>

</div>
</div>
<a id="a3ec92984d918de516efc0ebbdc98d95f" name="a3ec92984d918de516efc0ebbdc98d95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec92984d918de516efc0ebbdc98d95f">&#9670;&#160;</a></span>get_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">float</a> ADC::get_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_packet_value.html">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of the last <a class="el" href="class_d_m_a.html">DMA</a> read made by the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>. </p>
<p>The get_value function doesn t issue a read, but rather pulls the memory where the last read made is saved, transforms the value with the reference voltage and returns the voltage represented with that value. The capture of the value is made automatically by the <a class="el" href="class_d_m_a.html">DMA</a> configured for the respective <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> channel, and the frequency of the reads is dependant on the configuration of the <a class="el" href="class_d_m_a.html">DMA</a> itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the id of the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> to be read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> in volts. The ADC_MAX_VOLTAGE needs to be correctly configured in order for this function to work. </dd></dl>

</div>
</div>
<a id="aae06b1594b4fb09236ff4551e053e74c" name="aae06b1594b4fb09236ff4551e053e74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae06b1594b4fb09236ff4551e053e74c">&#9670;&#160;</a></span>inscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">uint8_t</a> ADC::inscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_pin.html">Pin</a>&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A method to add a pin as an <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> input on the ST-LIB. </p>
<p>This method has to be invoked before the ST-LIB<a class="el" href="class_a_d_c.html#aa0c418efdbe03a584bebdead2d0b4047" title="Method used in ST-LIBstart() to configure pins inscribed as ADCs.">start()</a>, as it marks the pin to be configured as an <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>, and that configuration is made in the ST-LIB<a class="el" href="class_a_d_c.html#aa0c418efdbe03a584bebdead2d0b4047" title="Method used in ST-LIBstart() to configure pins inscribed as ADCs.">start()</a>. As said on the class description, only correctly configured <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> pins will work correctly when declared as an <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a>. It is forbidden to declare a pin as an <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> and as anything else on services at the same time, and it will result in undefined behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>the <a class="el" href="class_pin.html">Pin</a> to be added as an <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the id that represents the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> inside this utility class, used in all its functions. </dd></dl>

</div>
</div>
<a id="aa0c418efdbe03a584bebdead2d0b4047" name="aa0c418efdbe03a584bebdead2d0b4047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c418efdbe03a584bebdead2d0b4047">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">void</a> ADC::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method used in ST-LIBstart() to configure pins inscribed as ADCs. </p>
<p>The start methods of the HALAL are made to be invoked in an specific order. As such, its recommended to not use them isolated, and instead use the ST-LIB<a class="el" href="class_a_d_c.html#aa0c418efdbe03a584bebdead2d0b4047" title="Method used in ST-LIBstart() to configure pins inscribed as ADCs.">start()</a>. The If for any reason not starting a service from HALAL was desired, removing the definition of its HAL parent module would deactivate it. For example, if <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> was needed out of the code, removing define HAL_ADC_MODULE_ENABLED on <a class="el" href="stm32h7xx__hal__conf_8h_source.html">stm32h7xx_hal_conf.h</a> would result in that behavior. </p>

</div>
</div>
<a id="a1277f51e3c6339efa4201a25fd8c5e6e" name="a1277f51e3c6339efa4201a25fd8c5e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1277f51e3c6339efa4201a25fd8c5e6e">&#9670;&#160;</a></span>turn_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_packet_value.html">static</a> <a class="el" href="class_packet_value.html">void</a> ADC::turn_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_packet_value.html">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activates the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> represented by the id. </p>
<p>After the <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> is configured in the ST-LIBstart::() it needs to be activated with turn_on to start reading. This is made this way so the user can control exactly when the measures start to be taken. The <a class="el" href="class_a_d_c.html#a3ec92984d918de516efc0ebbdc98d95f" title="Returns the value of the last DMA read made by the ADC.">get_value()</a> method will only work on a <a class="el" href="class_pin.html">Pin</a> that has both been inscribed, started, and turned on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the id of <a class="el" href="class_a_d_c.html" title="A utility class that controls ADC inputs.">ADC</a> to be activated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/hyperloop/ST-LIB/Inc/HALAL/Services/ADC/<a class="el" href="_a_d_c_8hpp_source.html">ADC.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
